Web Server configuration
=========================

Configure the network environment in which Mattermost is deployed. Configure this feature by going to **System Console >** **Environment > Web Server**, or within the config.json file as described in the following table. 

.. note::
    
    |system-console| indicates a configuration setting you can control through the System Console.

    |config-json| indicates a configuration setting you can control in the ``config.json`` file.

    Changes to configuration settings in this section require a server restart before taking effect.

Option A
--------

+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Configuration Setting**                | **Description & values**                                                                                                                                                                                                                                                                         | ``config.json`` **setting &                                      |
|                                          |                                                                                                                                                                                                                                                                                                  | environment variable**                                           |
+==========================================+==================================================================================================================================================================================================================================================================================================+==================================================================+
| **Site URL**                             | The URL that users will use to access Mattermost. Can contain a subpath from Mattermost v5.1, such as ``https://example.com/company/mattermost``.                                                                                                                                                | ``".ServiceSettings.SiteURL": "",``                              |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | If Site URL isn't set, the following features will not operate correctly:                                                                                                                                                                                                                        | ``MM_SERVICESETTINGS_SITEURL``                                   |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            | * Email notifications will contain broken links, and email batching will not work.                                                                                                                                                                                                               |                                                                  |
|                                          | * Authentication via OAuth 2.0, including GitLab, Google, and Office 365, will fail.                                                                                                                                                                                                             |                                                                  |
| |system-console| |config-json|           | * Plugins may not work as expected.                                                                                                                                                                                                                                                              |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          | This field is required, and the port number is required if it’s not a standard port such as ``80`` or ``443``.                                                                                                                                                                                   |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          | Select the **Test Live URL** button in the System Console to validate the Site URL.                                                                                                                                                                                                              |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Listen Address**                       | The address and port to which to bind and listen.                                                                                                                                                                                                                                                | ``".ServiceSettings.ListenAddress": ":8065",``                   |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | * Specifying ``:8065`` will bind to all network interfaces.                                                                                                                                                                                                                                      | ``MM_SERVICESETTINGS.LISTENADDRESS``                             |
|                                          | * Specifying ``127.0.0.1:8065`` will only bind to the network interface having that IP address.                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            | * If you choose a port of a lower level (called “system ports” or “well-known ports”, in the range of ``0-1023``), you must have permissions to bind to that port.                                                                                                                               |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Forward port 80 to 443**               | Forward insecure traffic from port 80 to port 442.                                                                                                                                                                                                                                               | ``".ServiceSettings.Forward80To443: false",``                    |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | * **true**: Forwards all insecure traffic from port 80 to secure port 443.                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_FORWARD80TO443``                            |
|                                          | * **false**: **(Default)** When using a proxy such as NGINX in front of Mattermost, this setting is unnecessary and should be set to ``false``.                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Connection Security**                  | Connection security between Mattermost clients and the server.                                                                                                                                                                                                                                   | ``".ServiceSettings.ConnectionSecurity": "",``                   |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | * **Not specified**: Mattermost will connect over an insecure connection.                                                                                                                                                                                                                        | ``MM_SERVICESETTINGS_CONNECTIONSECURITY``                        |
|                                          | * **TLS**: Encrypts the communication between Mattermost clients and your server.                                                                                                                                                                                                                |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          | See the `TLS Configuration <https://docs.mattermost.com/install/config-tls-mattermost.html>`__ documentation for details.                                                                                                                                                                        |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **TLS Certificate File**                 | The path to the certificate file to use for TLS connection security.                                                                                                                                                                                                                             | ``".ServiceSettings.TLSCertFile": "",``                          |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | String input                                                                                                                                                                                                                                                                                     | ``MM_SERVICESETTINGS_TLSCERTFILE``                               |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **TLS Key File**                         | The path to the TLS key file to use for TLS connection security.                                                                                                                                                                                                                                 | ``".ServiceSettings.TLSKeyFile": "",``                           |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | String input                                                                                                                                                                                                                                                                                     | ``MM_SERVICESETTINGS_TLSKEYFILE``                                |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Use Let's Encrypt**                    | Enable the automatic retrieval of certificates from Let’s Encrypt. See the `TLS Configuration <https://docs.mattermost.com/install/config-tls-mattermost.html>`__ documentation for details on setting up Let’s Encrypt.                                                                         | ``".ServiceSettings.UseLetsEncrypt: false",``                    |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | * **true**: The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.                                                                                                                                                         | ``MM_SERVICESETTINGS_USELETSENCRYPT``                            |
|                                          | * **false**: **(Default)** Manual certificate specification based on the TLS Certificate File and TLS Key File specified above.                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          | **Note**: If Let’s Encrypt is enabled, forward port 80 through a firewall using `Forward80To443 <https://docs.mattermost.com/configure/configuration-settings.html#forward-port-80-to-443>`__ set to **true** to complete the Let’s Encrypt certification.                                       |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Let's Encrypt Certificate Cache File** | The path to the file where certificates and other data about the Let’s Encrypt service will be stored.                                                                                                                                                                                           | ``".ServiceSettings.LetsEncryptCertificateCacheFile:             |
|                                          |                                                                                                                                                                                                                                                                                                  | "./config/letsencrypt.cache",``                                  |
| |all-plans|                              | File path                                                                                                                                                                                                                                                                                        |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_LETSENCRYPTCERTIFICATECACHEFILE``           |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Read Timeout**                         | Maximum time allowed from when the connection is accepted to when the request body is fully read.                                                                                                                                                                                                | ``".ServiceSettings.ReadTimeout: 300",``                         |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | Numerical value in seconds                                                                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_READTIMEOUT``                               |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Write Timeout**                        | * If using HTTP (insecure), this is the maximum time allowed from the end of reading the request headers until the response is written.                                                                                                                                                          | ``".ServiceSettings.WriteTimeoutTimeout: 300",``                 |
|                                          | * If using HTTPS, it is the total time from when the connection is accepted until the response is written.                                                                                                                                                                                       |                                                                  |
| |all-plans|                              |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_READTIMEOUT``                               |
|                                          | Numerical value in seconds                                                                                                                                                                                                                                                                       |                                                                  |
| |self-hosted|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Idle Timeout**                         | Set an explicit idle timeout in the HTTP server. This is the maximum time allowed before an idle connection is disconnected.                                                                                                                                                                     | ``".ServiceSettings.IdleTimeout: 60",``                          |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | Numerical value in seconds                                                                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_IDLETIMEOUT``                               |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            | **Note**: This setting can only be changed in the ``config.json`` file. It can’t be changed from the System Console.                                                                                                                                                                             |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |config-json|                            |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Webserver Mode**                       | We recommend enabling gzip to improve performance unless your environment has specific restrictions, such as a web proxy that distributes gzip files poorly.                                                                                                                                     | ``".ServiceSettings.WebserverMode: gzip",``                      |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              |  * **gzip**: **(Default)** The Mattermost server will serve static files compressed with gzip to improve performance. gzip compression applies to the HTML, CSS, Javascript, and other static content files that make up the Mattermost web client.                                              | ``MM_SERVICESETTINGS_WEBSERVERMODE``                             |
|                                          |  * **uncompressed**: The Mattermost server will serve static files uncompressed.                                                                                                                                                                                                                 |                                                                  |
| |self-hosted|                            |  * **disabled**: The Mattermost server won't serve static files.                                                                                                                                                                                                                                 |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Enable Insecure Outgoing Connections** | .. important::                                                                                                                                                                                                                                                                                   | ``".ServiceSettings.EnableInsecureOutgoingConnections: false",`` |
|                                          |     Enabling this feature makes these connections susceptible to man-in-the-middle attacks.                                                                                                                                                                                                      |                                                                  |
| |all-plans|                              |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_ENABLEINSECUREOUTGOINGCONNECTIONS``         |
|                                          | * **true**: Outgoing HTTPS requests can accept unverified, self-signed certificates. For example, outgoing webhooks to a server with a self-signed TLS certificate, using any domain, will be allowed.                                                                                           |                                                                  |
| |self-hosted|                            | * **false**: **(Default)** Only secure HTTPS requests are allowed.                                                                                                                                                                                                                               |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Managed Resource Paths**               | Paths within the Mattermost domain that are managed by a third party service instead of Mattermost itself. Links to these paths will be opened in a new tab/window by Mattermost apps.                                                                                                           | ``".ServiceSettings.ManagedResourcePaths": "",``                 |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | **Note**: When using the Mattermost Desktop App, additional configuration is required to open the link within the Desktop App instead of in a browser. See the `Desktop managed resources <https://docs.mattermost.com/install/desktop-app-managed-resources.html>`__ documentation for details. | ``MM_SERVICESETTINGS_ManagedResourcePaths``                      |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            | A comma-separated list of paths.                                                                                                                                                                                                                                                                 |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | For example, if Mattermost is running on ``https://mymattermost.com``, setting this to conference will cause links such as ``https://mymattermost.com/conference`` to be opened in a new window                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Reload Configuration from Disk**       | The workflow for failover without taking the server down is to change the database line in the ``config.json`` file, and then reload configuration.                                                                                                                                              | N/A                                                              |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |enterprise|                             | Select the **Reload Configuration from Disk** button in the System Console after changing your database configuration. (add link)                                                                                                                                                                |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            | Then, go to **Environment > Database** and select **Recycle Database Connections** to complete the reload.                                                                                                                                                                                       |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console|                         |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Purge All Caches**                     | Purge all in-memory caches for sessions, accounts and channels.                                                                                                                                                                                                                                  | N/A                                                              |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | **Notes**:                                                                                                                                                                                                                                                                                       |                                                                  |
|                                          |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            | * Purging the caches may adversely impact performance.                                                                                                                                                                                                                                           |                                                                  |
|                                          | * Deployments using High Availability will attempt to purge all the servers in the cluster.                                                                                                                                                                                                      |                                                                  |
| |system-console|                         |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          | Select the **Purge All Caches** button in the System Console to purge all caches.                                                                                                                                                                                                                |                                                                  |
+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+

Option B
--------

+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Configuration setting**                | **Available in** | **Description & values**                                                                                                                                                                                                                                                                         | ``config.json`` **setting &                                      |
|                                          |                  |                                                                                                                                                                                                                                                                                                  | environment variable**                                           |
+==========================================+==================+==================================================================================================================================================================================================================================================================================================+==================================================================+
| **Site URL**                             | |all-plans|      | The URL that users will use to access Mattermost. Can contain a subpath from Mattermost v5.1, such as ``https://example.com/company/mattermost``.                                                                                                                                                | ``".ServiceSettings.SiteURL": "",``                              |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | If Site URL isn't set, the following features will not operate correctly:                                                                                                                                                                                                                        | ``MM_SERVICESETTINGS_SITEURL``                                   |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | * Email notifications will contain broken links, and email batching will not work.                                                                                                                                                                                                               |                                                                  |
|                                          |                  | * Authentication via OAuth 2.0, including GitLab, Google, and Office 365, will fail.                                                                                                                                                                                                             |                                                                  |
|                                          |                  | * Plugins may not work as expected.                                                                                                                                                                                                                                                              |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | This field is required, and the port number is required if it’s not a standard port such as ``80`` or ``443``.                                                                                                                                                                                   |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | Select the **Test Live URL** button in the System Console to validate the Site URL.                                                                                                                                                                                                              |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Listen Address**                       | |all-plans|      | The address and port to which to bind and listen.                                                                                                                                                                                                                                                | ``".ServiceSettings.ListenAddress": ":8065",``                   |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | * Specifying ``:8065`` will bind to all network interfaces.                                                                                                                                                                                                                                      | ``MM_SERVICESETTINGS.LISTENADDRESS``                             |
|                                          |                  | * Specifying ``127.0.0.1:8065`` will only bind to the network interface having that IP address.                                                                                                                                                                                                  |                                                                  |
|                                          |                  | * If you choose a port of a lower level (called “system ports” or “well-known ports”, in the range of ``0-1023``), you must have permissions to bind to that port.                                                                                                                               |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Forward port 80 to 443**               | |all-plans|      | Forward insecure traffic from port 80 to port 442.                                                                                                                                                                                                                                               | ``".ServiceSettings.Forward80To443: false",``                    |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | * **true**: Forwards all insecure traffic from port 80 to secure port 443.                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_FORWARD80TO443``                            |
|                                          |                  | * **false**: **(Default)** When using a proxy such as NGINX in front of Mattermost, this setting is unnecessary and should be set to ``false``.                                                                                                                                                  |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Connection Security**                  | |all-plans|      | Connection security between Mattermost clients and the server.                                                                                                                                                                                                                                   | ``".ServiceSettings.ConnectionSecurity": "",``                   |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | * **Not specified**: Mattermost will connect over an insecure connection.                                                                                                                                                                                                                        | ``MM_SERVICESETTINGS_CONNECTIONSECURITY``                        |
|                                          |                  | * **TLS**: Encrypts the communication between Mattermost clients and your server.                                                                                                                                                                                                                |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | See the `TLS Configuration <https://docs.mattermost.com/install/config-tls-mattermost.html>`__ documentation for details.                                                                                                                                                                        |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **TLS Certificate File**                 | |all-plans|      | The path to the certificate file to use for TLS connection security.                                                                                                                                                                                                                             | ``".ServiceSettings.TLSCertFile": "",``                          |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | String input                                                                                                                                                                                                                                                                                     | ``MM_SERVICESETTINGS_TLSCERTFILE``                               |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **TLS Key File**                         | |all-plans|      | The path to the TLS key file to use for TLS connection security.                                                                                                                                                                                                                                 | ``".ServiceSettings.TLSKeyFile": "",``                           |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | String input                                                                                                                                                                                                                                                                                     | ``MM_SERVICESETTINGS_TLSKEYFILE``                                |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Use Let's Encrypt**                    | |all-plans|      | Enable the automatic retrieval of certificates from Let’s Encrypt. See the `TLS Configuration <https://docs.mattermost.com/install/config-tls-mattermost.html>`__ documentation for details on setting up Let’s Encrypt.                                                                         | ``".ServiceSettings.UseLetsEncrypt: false",``                    |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | * **true**: The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.                                                                                                                                                         | ``MM_SERVICESETTINGS_USELETSENCRYPT``                            |
|                                          |                  | * **false**: **(Default)** Manual certificate specification based on the TLS Certificate File and TLS Key File specified above.                                                                                                                                                                  |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | **Note**: If Let’s Encrypt is enabled, forward port 80 through a firewall using `Forward80To443 <https://docs.mattermost.com/configure/configuration-settings.html#forward-port-80-to-443>`__ set to **true** to complete the Let’s Encrypt certification.                                       |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Let's Encrypt Certificate Cache File** | |all-plans|      | The path to the file where certificates and other data about the Let’s Encrypt service will be stored.                                                                                                                                                                                           | ``".ServiceSettings.LetsEncryptCertificateCacheFile:             |
|                                          |                  |                                                                                                                                                                                                                                                                                                  | "./config/letsencrypt.cache",``                                  |
| |system-console| |config-json|           | |self-hosted|    | File path                                                                                                                                                                                                                                                                                        |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_LETSENCRYPTCERTIFICATECACHEFILE``           |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Read Timeout**                         | |all-plans|      | Maximum time allowed from when the connection is accepted to when the request body is fully read.                                                                                                                                                                                                | ``".ServiceSettings.ReadTimeout: 300",``                         |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | Numerical value in seconds                                                                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_READTIMEOUT``                               |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Write Timeout**                        | |all-plans|      | * If using HTTP (insecure), this is the maximum time allowed from the end of reading the request headers until the response is written.                                                                                                                                                          | ``".ServiceSettings.WriteTimeoutTimeout: 300",``                 |
|                                          |                  | * If using HTTPS, it is the total time from when the connection is accepted until the response is written.                                                                                                                                                                                       |                                                                  |
| |system-console| |config-json|           | |self-hosted|    |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_READTIMEOUT``                               |
|                                          |                  | Numerical value in seconds                                                                                                                                                                                                                                                                       |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Idle Timeout**                         | |all-plans|      | Set an explicit idle timeout in the HTTP server. This is the maximum time allowed before an idle connection is disconnected.                                                                                                                                                                     | ``".ServiceSettings.IdleTimeout: 60",``                          |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |config-json|                            | |self-hosted|    | Numerical value in seconds                                                                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_IDLETIMEOUT``                               |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | **Note**: This setting can only be changed in the ``config.json`` file. It can’t be changed from the System Console.                                                                                                                                                                             |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Webserver Mode**                       | |all-plans|      | We recommend enabling gzip to improve performance unless your environment has specific restrictions, such as a web proxy that distributes gzip files poorly.                                                                                                                                     | ``".ServiceSettings.WebserverMode: gzip",``                      |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    |  * **gzip**: **(Default)** The Mattermost server will serve static files compressed with gzip to improve performance. gzip compression applies to the HTML, CSS, Javascript, and other static content files that make up the Mattermost web client.                                              | ``MM_SERVICESETTINGS_WEBSERVERMODE``                             |
|                                          |                  |  * **uncompressed**: The Mattermost server will serve static files uncompressed.                                                                                                                                                                                                                 |                                                                  |
|                                          |                  |  * **disabled**: The Mattermost server won't serve static files.                                                                                                                                                                                                                                 |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Enable Insecure Outgoing Connections** | |all-plans|      | .. important::                                                                                                                                                                                                                                                                                   | ``".ServiceSettings.EnableInsecureOutgoingConnections: false",`` |
|                                          |                  |     Enabling this feature makes these connections susceptible to man-in-the-middle attacks.                                                                                                                                                                                                      |                                                                  |
| |system-console| |config-json|           | |self-hosted|    |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_ENABLEINSECUREOUTGOINGCONNECTIONS``         |
|                                          |                  | * **true**: Outgoing HTTPS requests can accept unverified, self-signed certificates. For example, outgoing webhooks to a server with a self-signed TLS certificate, using any domain, will be allowed.                                                                                           |                                                                  |
|                                          |                  | * **false**: **(Default)** Only secure HTTPS requests are allowed.                                                                                                                                                                                                                               |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Managed Resource Paths**               | |all-plans|      | Paths within the Mattermost domain that are managed by a third party service instead of Mattermost itself. Links to these paths will be opened in a new tab/window by Mattermost apps.                                                                                                           | ``".ServiceSettings.ManagedResourcePaths": "",``                 |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console| |config-json|           | |self-hosted|    | **Note**: When using the Mattermost Desktop App, additional configuration is required to open the link within the Desktop App instead of in a browser. See the `Desktop managed resources <https://docs.mattermost.com/install/desktop-app-managed-resources.html>`__ documentation for details. | ``MM_SERVICESETTINGS_ManagedResourcePaths``                      |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | A comma-separated list of paths.                                                                                                                                                                                                                                                                 |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | For example, if Mattermost is running on ``https://mymattermost.com``, setting this to conference will cause links such as ``https://mymattermost.com/conference`` to be opened in a new window                                                                                                  |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Reload Configuration from Disk**       | |enterprise|     | The workflow for failover without taking the server down is to change the database line in the ``config.json`` file, and then reload configuration.                                                                                                                                              | N/A                                                              |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console|                         | |self-hosted|    | Select the **Reload Configuration from Disk** button in the System Console after changing your database configuration. (add link)                                                                                                                                                                |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | Then, go to **Environment > Database** and select **Recycle Database Connections** to complete the reload.                                                                                                                                                                                       |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Purge All Caches**                     | |all-plans|      | Purge all in-memory caches for sessions, accounts and channels.                                                                                                                                                                                                                                  | N/A                                                              |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |system-console|                         | |self-hosted|    | **Notes**:                                                                                                                                                                                                                                                                                       |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | * Purging the caches may adversely impact performance.                                                                                                                                                                                                                                           |                                                                  |
|                                          |                  | * Deployments using High Availability will attempt to purge all the servers in the cluster.                                                                                                                                                                                                      |                                                                  |
|                                          |                  |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                  | Select the **Purge All Caches ** button in the System Console to purge all caches.                                                                                                                                                                                                               |                                                                  |
+------------------------------------------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+

Option C
--------

+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Configuration Setting**                |                   | **Description & values**                                                                                                                                                                                                                                                                         | ``config.json`` **setting &                                      |
|                                          |                   |                                                                                                                                                                                                                                                                                                  | environment variable**                                           |
+==========================================+===================+==================================================================================================================================================================================================================================================================================================+==================================================================+
| **Site URL**                             | |system-console|  | The URL that users will use to access Mattermost. Can contain a subpath from Mattermost v5.1, such as ``https://example.com/company/mattermost``.                                                                                                                                                | ``".ServiceSettings.SiteURL": "",``                              |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | If Site URL isn't set, the following features will not operate correctly:                                                                                                                                                                                                                        | ``MM_SERVICESETTINGS_SITEURL``                                   |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   | * Email notifications will contain broken links, and email batching will not work.                                                                                                                                                                                                               |                                                                  |
|                                          |                   | * Authentication via OAuth 2.0, including GitLab, Google, and Office 365, will fail.                                                                                                                                                                                                             |                                                                  |
|                                          |                   | * Plugins may not work as expected.                                                                                                                                                                                                                                                              |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                   | This field is required, and the port number is required if it’s not a standard port such as ``80`` or ``443``.                                                                                                                                                                                   |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                   | Select the **Test Live URL** button in the System Console to validate the Site URL.                                                                                                                                                                                                              |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Listen Address**                       | |system-console|  | The address and port to which to bind and listen.                                                                                                                                                                                                                                                | ``".ServiceSettings.ListenAddress": ":8065",``                   |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | * Specifying ``:8065`` will bind to all network interfaces.                                                                                                                                                                                                                                      | ``MM_SERVICESETTINGS.LISTENADDRESS``                             |
|                                          |                   | * Specifying ``127.0.0.1:8065`` will only bind to the network interface having that IP address.                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   | * If you choose a port of a lower level (called “system ports” or “well-known ports”, in the range of ``0-1023``), you must have permissions to bind to that port.                                                                                                                               |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Forward port 80 to 443**               | |system-console|  | Forward insecure traffic from port 80 to port 442.                                                                                                                                                                                                                                               | ``".ServiceSettings.Forward80To443: false",``                    |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | * **true**: Forwards all insecure traffic from port 80 to secure port 443.                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_FORWARD80TO443``                            |
|                                          |                   | * **false**: **(Default)** When using a proxy such as NGINX in front of Mattermost, this setting is unnecessary and should be set to ``false``.                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Connection Security**                  | |system-console|  | Connection security between Mattermost clients and the server.                                                                                                                                                                                                                                   | ``".ServiceSettings.ConnectionSecurity": "",``                   |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | * **Not specified**: Mattermost will connect over an insecure connection.                                                                                                                                                                                                                        | ``MM_SERVICESETTINGS_CONNECTIONSECURITY``                        |
|                                          |                   | * **TLS**: Encrypts the communication between Mattermost clients and your server.                                                                                                                                                                                                                |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                   | See the `TLS Configuration <https://docs.mattermost.com/install/config-tls-mattermost.html>`__ documentation for details.                                                                                                                                                                        |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **TLS Certificate File**                 | |system-console|  | The path to the certificate file to use for TLS connection security.                                                                                                                                                                                                                             | ``".ServiceSettings.TLSCertFile": "",``                          |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | String input                                                                                                                                                                                                                                                                                     | ``MM_SERVICESETTINGS_TLSCERTFILE``                               |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **TLS Key File**                         | |system-console|  | The path to the TLS key file to use for TLS connection security.                                                                                                                                                                                                                                 | ``".ServiceSettings.TLSKeyFile": "",``                           |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | String input                                                                                                                                                                                                                                                                                     | ``MM_SERVICESETTINGS_TLSKEYFILE``                                |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Use Let's Encrypt**                    | |system-console|  | Enable the automatic retrieval of certificates from Let’s Encrypt. See the `TLS Configuration <https://docs.mattermost.com/install/config-tls-mattermost.html>`__ documentation for details on setting up Let’s Encrypt.                                                                         | ``".ServiceSettings.UseLetsEncrypt: false",``                    |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | * **true**: The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.                                                                                                                                                         | ``MM_SERVICESETTINGS_USELETSENCRYPT``                            |
|                                          |                   | * **false**: **(Default)** Manual certificate specification based on the TLS Certificate File and TLS Key File specified above.                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                   | **Note**: If Let’s Encrypt is enabled, forward port 80 through a firewall using `Forward80To443 <https://docs.mattermost.com/configure/configuration-settings.html#forward-port-80-to-443>`__ set to **true** to complete the Let’s Encrypt certification.                                       |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Let's Encrypt Certificate Cache File** | |system-console|  | The path to the file where certificates and other data about the Let’s Encrypt service will be stored.                                                                                                                                                                                           | ``".ServiceSettings.LetsEncryptCertificateCacheFile:             |
|                                          |                   |                                                                                                                                                                                                                                                                                                  | "./config/letsencrypt.cache",``                                  |
| |all-plans|                              | |config-json|     | File path                                                                                                                                                                                                                                                                                        |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_LETSENCRYPTCERTIFICATECACHEFILE``           |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Read Timeout**                         | |system-console|  | Maximum time allowed from when the connection is accepted to when the request body is fully read.                                                                                                                                                                                                | ``".ServiceSettings.ReadTimeout: 300",``                         |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | Numerical value in seconds                                                                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_READTIMEOUT``                               |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Write Timeout**                        | |system-console|  | * If using HTTP (insecure), this is the maximum time allowed from the end of reading the request headers until the response is written.                                                                                                                                                          | ``".ServiceSettings.WriteTimeoutTimeout: 300",``                 |
|                                          |                   | * If using HTTPS, it is the total time from when the connection is accepted until the response is written.                                                                                                                                                                                       |                                                                  |
| |all-plans|                              | |config-json|     |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_READTIMEOUT``                               |
|                                          |                   | Numerical value in seconds                                                                                                                                                                                                                                                                       |                                                                  |
| |self-hosted|                            |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Idle Timeout**                         | |config-json|     | Set an explicit idle timeout in the HTTP server. This is the maximum time allowed before an idle connection is disconnected.                                                                                                                                                                     | ``".ServiceSettings.IdleTimeout: 60",``                          |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              |                   | Numerical value in seconds                                                                                                                                                                                                                                                                       | ``MM_SERVICESETTINGS_IDLETIMEOUT``                               |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   | **Note**: This setting can only be changed in the ``config.json`` file. It can’t be changed from the System Console.                                                                                                                                                                             |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Webserver Mode**                       | |system-console|  | We recommend enabling gzip to improve performance unless your environment has specific restrictions, such as a web proxy that distributes gzip files poorly.                                                                                                                                     | ``".ServiceSettings.WebserverMode: gzip",``                      |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     |  * **gzip**: **(Default)** The Mattermost server will serve static files compressed with gzip to improve performance. gzip compression applies to the HTML, CSS, Javascript, and other static content files that make up the Mattermost web client.                                              | ``MM_SERVICESETTINGS_WEBSERVERMODE``                             |
|                                          |                   |  * **uncompressed**: The Mattermost server will serve static files uncompressed.                                                                                                                                                                                                                 |                                                                  |
| |self-hosted|                            |                   |  * **disabled**: The Mattermost server won't serve static files.                                                                                                                                                                                                                                 |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Enable Insecure Outgoing Connections** | |system-console|  | .. important::                                                                                                                                                                                                                                                                                   | ``".ServiceSettings.EnableInsecureOutgoingConnections: false",`` |
|                                          |                   |     Enabling this feature makes these connections susceptible to man-in-the-middle attacks.                                                                                                                                                                                                      |                                                                  |
| |all-plans|                              | |config-json|     |                                                                                                                                                                                                                                                                                                  | ``MM_SERVICESETTINGS_ENABLEINSECUREOUTGOINGCONNECTIONS``         |
|                                          |                   | * **true**: Outgoing HTTPS requests can accept unverified, self-signed certificates. For example, outgoing webhooks to a server with a self-signed TLS certificate, using any domain, will be allowed.                                                                                           |                                                                  |
| |self-hosted|                            |                   | * **false**: **(Default)** Only secure HTTPS requests are allowed.                                                                                                                                                                                                                               |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Managed Resource Paths**               | |system-console|  | Paths within the Mattermost domain that are managed by a third party service instead of Mattermost itself. Links to these paths will be opened in a new tab/window by Mattermost apps.                                                                                                           | ``".ServiceSettings.ManagedResourcePaths": "",``                 |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              | |config-json|     | **Note**: When using the Mattermost Desktop App, additional configuration is required to open the link within the Desktop App instead of in a browser. See the `Desktop managed resources <https://docs.mattermost.com/install/desktop-app-managed-resources.html>`__ documentation for details. | ``MM_SERVICESETTINGS_ManagedResourcePaths``                      |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   | A comma-separated list of paths.                                                                                                                                                                                                                                                                 |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                   | For example, if Mattermost is running on ``https://mymattermost.com``, setting this to conference will cause links such as ``https://mymattermost.com/conference`` to be opened in a new window                                                                                                  |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Reload Configuration from Disk**       | |system-console|  | The workflow for failover without taking the server down is to change the database line in the ``config.json`` file, and then reload configuration.                                                                                                                                              | N/A                                                              |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |enterprise|                             |                   | Select the **Reload Configuration from Disk** button in the System Console after changing your database configuration. (add link)                                                                                                                                                                |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   | Then, go to **Environment > Database** and select **Recycle Database Connections** to complete the reload.                                                                                                                                                                                       |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Purge All Caches**                     | |system-console|  | Purge all in-memory caches for sessions, accounts and channels.                                                                                                                                                                                                                                  | N/A                                                              |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |all-plans|                              |                   | **Notes**:                                                                                                                                                                                                                                                                                       |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
| |self-hosted|                            |                   | * Purging the caches may adversely impact performance.                                                                                                                                                                                                                                           |                                                                  |
|                                          |                   | * Deployments using High Availability will attempt to purge all the servers in the cluster.                                                                                                                                                                                                      |                                                                  |
|                                          |                   |                                                                                                                                                                                                                                                                                                  |                                                                  |
|                                          |                   | Select the **Purge All Caches ** button in the System Console to purge all caches.                                                                                                                                                                                                               |                                                                  |
+------------------------------------------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+

.. inline image assets

.. |all-plans| image:: ../images/all-plans-badge.png
  :scale: 30
  :target: https://mattermost.com/pricing
  :alt: Available in Mattermost Free and Starter subscription plans.

.. |enterprise| image:: ../images/enterprise-badge.png
  :scale: 30
  :target: https://mattermost.com/pricing
  :alt: Available in the Mattermost Enterprise subscription plan.

.. |professional| image:: ../images/professional-badge.png
  :scale: 30
  :target: https://mattermost.com/pricing
  :alt: Available in the Mattermost Professional subscription plan.

.. |cloud| image:: ../images/cloud-badge.png
  :scale: 30
  :target: https://mattermost.com/download
  :alt: Available for Mattermost Cloud deployments.

.. |self-hosted| image:: ../images/self-hosted-badge.png
  :scale: 30
  :target: https://mattermost.com/deploy
  :alt: Available for Mattermost Self-Hosted deployments.

.. |system-console| image:: ../images/application-cog_F1577.svg
  :scale: 150
  :alt: Manage in the Mattermost System Console.

.. |config-json| image:: ../images/file-code-outline-large_E90B.svg
  :scale: 150
  :alt: Manage in the config.json file.